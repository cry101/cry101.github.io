<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Cary"><meta name="keywords" content="个人博客"><meta name="description" conauthortent="若尧的博客"><link rel="alternative" href="/atom.xml" title="若尧" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>基于vue的简易数字键盘 - 若尧</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><div class="hide" id="particles-oli-wrapper"></div><header class="head"><h1 class="head-title u-fl"><a href="/">若尧</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">目录</a></li><li class="head-nav__item"><a class="head-nav__link" href="/about">关于</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-02-15T03:51:31.000Z">二月 15, 2017</time><h1 class="post__title"><a href="/2017/02/15/vue-keybord/">基于vue的简易数字键盘</a></h1><div class="post__main echo"><h2 id="基于vue的简易数字键盘"><a href="#基于vue的简易数字键盘" class="headerlink" title="基于vue的简易数字键盘"></a>基于vue的简易数字键盘</h2><hr>
<p>完成时间：2017.02<br>核心技术：zepto,Aui,vue</p>
<h2 id="从小记app里提取出来的，代码有点乱"><a href="#从小记app里提取出来的，代码有点乱" class="headerlink" title="从小记app里提取出来的，代码有点乱"></a>从小记app里提取出来的，代码有点乱</h2><h2 id="先看效果图"><a href="#先看效果图" class="headerlink" title="先看效果图"></a>先看效果图</h2><p><img src="https://raw.githubusercontent.com/cry101/Some-little-projects/master/vue/image/demo.png" alt="图片"></p>
<p>核心代码：<br>事件没有用v-bind到组件上，因为移动端按键click会有300ms延迟，所以输入时会有延迟，用了apicloud的点击优化tap，或者用zepto的tap事件也行。<br>分类组件：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//分类组件</span></div><div class="line"><span class="keyword">var</span> classifyComponent = Vue.extend(&#123;</div><div class="line">    template: <span class="string">'#classifyComponent'</span>,</div><div class="line">    props: [<span class="string">'item'</span>,<span class="string">'index'</span>],</div><div class="line">    methods: &#123;</div><div class="line">        onActive: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            $(<span class="string">'#classify li'</span>).removeClass(<span class="string">'active'</span>);</div><div class="line">            <span class="keyword">this</span>.$el.className = <span class="string">"aui-pull-left active"</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"><span class="comment">//分类实例</span></div><div class="line"><span class="keyword">var</span> classify = <span class="keyword">new</span> Vue(&#123;</div><div class="line">      el: <span class="string">'#classify'</span>,</div><div class="line">      data: &#123;</div><div class="line">          classify: expenditure</div><div class="line">      &#125;,</div><div class="line">      components:&#123;</div><div class="line">          <span class="string">'classify-component'</span>: classifyComponent</div><div class="line">      &#125;,</div><div class="line">      methods: &#123;</div><div class="line">         addClassify: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">         &#125;</div><div class="line">      &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>键盘组件：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//键盘组件</span></div><div class="line"><span class="keyword">var</span> keybordComponent = Vue.extend(&#123;</div><div class="line">      template: <span class="string">'#keybordComponent'</span>,</div><div class="line">      data : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">          <span class="keyword">return</span>&#123;</div><div class="line">              </div><div class="line">          &#125;</div><div class="line">      &#125;,</div><div class="line">      props: [<span class="string">'numbers'</span>],</div><div class="line">      methods: &#123;</div><div class="line">          </div><div class="line">      &#125;</div><div class="line">&#125;)</div><div class="line"><span class="comment">//键盘实例</span></div><div class="line"><span class="keyword">var</span> keybord = <span class="keyword">new</span> Vue(&#123;</div><div class="line">      el: <span class="string">'#keybord'</span>,</div><div class="line">      data: &#123;</div><div class="line">          numbers: [<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">'c'</span>,<span class="number">0</span>,<span class="string">'.'</span>]</div><div class="line">      &#125;,</div><div class="line">      components:&#123;</div><div class="line">          <span class="string">'keybord-component'</span>: keybordComponent</div><div class="line">      &#125;,</div><div class="line">      methods: &#123;</div><div class="line">              onComf: <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">                </div><div class="line">              &#125;</div><div class="line">          &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>按键操作：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onKeyUp</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">      <span class="keyword">var</span> count = amount.count;</div><div class="line">      <span class="keyword">var</span> num = $(obj).find(<span class="string">'span'</span>).text();</div><div class="line">      <span class="keyword">if</span>(num == <span class="string">'c'</span>)&#123;</div><div class="line">          amount.count = <span class="number">0</span>; </div><div class="line">      &#125;<span class="keyword">else</span> <span class="keyword">if</span>(num == <span class="string">'.'</span>)&#123;</div><div class="line">          amount.count = count + num;</div><div class="line">      &#125;<span class="keyword">else</span>&#123;</div><div class="line">         <span class="keyword">if</span>(count === <span class="number">0</span>||count === <span class="string">'0'</span>)&#123;</div><div class="line">             amount.count = num;</div><div class="line">         &#125;<span class="keyword">else</span>&#123;</div><div class="line">             amount.count = count + num;</div><div class="line">         &#125;</div><div class="line">      &#125;</div><div class="line">      </div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">onDelete</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="keyword">var</span> count = amount.count.toString();</div><div class="line">      <span class="keyword">if</span>(count.length == <span class="number">1</span>) &#123;</div><div class="line">          amount.count = <span class="number">0</span>;</div><div class="line">      &#125;<span class="keyword">else</span>&#123;</div><div class="line">          amount.count = count.substr(<span class="number">0</span>,count.length<span class="number">-1</span>)</div><div class="line">      &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><a href="https://github.com/cry101/Some-little-projects/tree/master/vue" target="_blank" rel="external">从apicloud提取出来的源码地址</a></p>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/vue/">vue</a></li></ul></footer></article><link rel="stylesheet" href="/css/menu.css"><script src="/js/jquery.autoMenu.js"></script><div class="autoMenu" id="autoMenu" data-autoMenu></div><section class="reward"> <a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechatImage.jpg" title="微信"><img src="/img/alipayImage.jpg" title="支付宝"></div></section></main><footer class="foot"><div class="foot-copy">&copy; 2016-2017 Cary</div></footer><!--include ../plugins/google.pug--><script src="/js/particles.min.js"></script><script src="/js/particles.other.js"></script><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>