<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="Cary"><meta name="keywords" content="个人博客"><meta name="description" conauthortent="若尧的博客"><link rel="alternative" href="/atom.xml" title="若尧" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>用js替换jQuery - 若尧</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0;"><div class="hide" id="particles-oli-wrapper"></div><header class="head"><h1 class="head-title u-fl"><a href="/">若尧</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">目录</a></li><li class="head-nav__item"><a class="head-nav__link" href="/about">关于</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2017-04-18T02:56:11.000Z">四月 18, 2017</time><h1 class="post__title"><a href="/2017/04/18/user-Js/">用js替换jQuery</a></h1><div class="post__main echo"><h3 id="1-获取元素"><a href="#1-获取元素" class="headerlink" title="1.获取元素"></a>1.获取元素</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>);  <span class="comment">//class获取  </span></div><div class="line">$(<span class="string">'#xxx'</span>);  <span class="comment">//id获取  </span></div><div class="line">$(<span class="string">'.xxx.ccc'</span>);  <span class="comment">//同时包含xxx和ccc  </span></div><div class="line">$(<span class="string">'.xxx,.zzz'</span>); <span class="comment">//多选  </span></div><div class="line">$(<span class="string">'.xxx div'</span>); <span class="comment">//子类  </span></div><div class="line">$(<span class="string">'.xxx p:first'</span>); <span class="comment">//第一个P元素  </span></div><div class="line"></div><div class="line"><span class="comment">// javascript （querySelectorAll）</span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx'</span>);  <span class="comment">//class获取  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'#xxx'</span>);<span class="comment">//id获取  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx.ccc'</span>);<span class="comment">//同时包含xxx和ccc  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx,.ccc'</span>);<span class="comment">//多选  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx div'</span>);<span class="comment">//子类  </span></div><div class="line"><span class="built_in">document</span>.querySelector(<span class="string">'.xxx p:first-child'</span>);<span class="comment">//第一个P元素</span></div></pre></td></tr></table></figure>
<h3 id="2-操作class"><a href="#2-操作class" class="headerlink" title="2.操作class"></a>2.操作class</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>).addClass(<span class="string">'class_name'</span>);</div><div class="line">$(<span class="string">'.xxx'</span>).removeClass(<span class="string">'class_name'</span>); </div><div class="line">$(<span class="string">'.xxx'</span>).toggleClass(<span class="string">'class_name'</span>); </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">el.classList.add(<span class="string">'class_name'</span>);</div><div class="line">el.classList.remove(<span class="string">'class_name'</span>);</div><div class="line">el.classList.toggle(<span class="string">'class_name'</span>);</div></pre></td></tr></table></figure>
<h3 id="3-是否包含某个class"><a href="#3-是否包含某个class" class="headerlink" title="3.是否包含某个class"></a>3.是否包含某个class</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>).hasClass(<span class="string">'class_name'</span>);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">el.classList.contains(<span class="string">'class_name'</span>);</div></pre></td></tr></table></figure>
<p>上面是HTML5提供的新的方法，如果你非要为了兼容所谓的IE，可以用下面的这些<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//是否包含class    </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">hasClass</span>(<span class="params">o, n</span>)</span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'\\b'</span>+n+<span class="string">'\\b'</span>).test(o.className);  </div><div class="line">&#125;;  </div><div class="line"><span class="comment">//添加class    </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">addClass</span>(<span class="params">o, n</span>)</span>&#123;  </div><div class="line">    <span class="keyword">if</span>(!hasClass(o, n)) o.className+=<span class="string">' '</span>+n;  </div><div class="line">&#125;;  </div><div class="line"><span class="comment">//删除class    </span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">delClass</span>(<span class="params">o, n</span>)</span>&#123;  </div><div class="line">    <span class="keyword">if</span>(hasClass(o, n))&#123;  </div><div class="line">        o.className = o.className.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'(?:^|\\s)'</span>+n+<span class="string">'(?=\\s|$)'</span>), <span class="string">''</span>).replace(<span class="regexp">/^\s*|\s*$/g</span>, <span class="string">''</span>);  </div><div class="line">    &#125;;  </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="4-插入HTML"><a href="#4-插入HTML" class="headerlink" title="4.插入HTML"></a>4.插入HTML</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(el).before(htmlString);  </div><div class="line">$(parent).append(el);  </div><div class="line">$(el).after(htmlString);  </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">parent.appendChild(el);  </div><div class="line">el.insertBefore(NewDom,ele);  </div><div class="line">ele.insertAdjacentHTML(<span class="string">"beforeend"</span>, <span class="string">'&lt;li&gt;内容&lt;/li&gt;'</span>);</div></pre></td></tr></table></figure>
<h3 id="5-获取节点"><a href="#5-获取节点" class="headerlink" title="5.获取节点"></a>5.获取节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>).children();</div><div class="line">$(<span class="string">'.xxx'</span>).prev();</div><div class="line">$(<span class="string">'.xxx'</span>).next(); </div><div class="line">$(<span class="string">'.xxx'</span>).parent();</div><div class="line">$(ele).siblings();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.children;</div><div class="line"><span class="keyword">var</span> prev = ele.previousElementSibling || ele.previousSibling;  </div><div class="line"><span class="keyword">var</span> next = ele.nextElementSibling || ele.nextSibling;</div><div class="line">ele.parentNode;</div><div class="line"><span class="comment">//上下节点</span></div><div class="line"><span class="keyword">var</span> siblings = <span class="built_in">Array</span>.prototype.slice.call(el.parentNode.children);  </div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = siblings.length; i--;) &#123;  </div><div class="line">    <span class="keyword">if</span> (siblings[i] === el) &#123;  </div><div class="line">        siblings.splice(i, <span class="number">1</span>);  </div><div class="line">        <span class="keyword">break</span>;  </div><div class="line">    &#125;;  </div><div class="line">&#125;;  </div><div class="line">;[].forEach.call(el.parentNode.children, <span class="function"><span class="keyword">function</span>(<span class="params">child</span>)</span>&#123;  </div><div class="line">    <span class="keyword">if</span>(child !== el);  </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="6-循环节点"><a href="#6-循环节点" class="headerlink" title="6.循环节点"></a>6.循环节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(selector).each(<span class="function"><span class="keyword">function</span>(<span class="params">i, el</span>)</span>&#123;  </div><div class="line">    <span class="comment">//xxx  </span></div><div class="line">&#125;);  </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">[].forEach.call(ele,<span class="function"><span class="keyword">function</span>(<span class="params">el,i</span>)</span>&#123;  </div><div class="line">    <span class="comment">//xxx  </span></div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="7-克隆节点"><a href="#7-克隆节点" class="headerlink" title="7.克隆节点"></a>7.克隆节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">'.xxx'</span>).clone(<span class="literal">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.cloneNode(<span class="literal">true</span>);</div></pre></td></tr></table></figure>
<h3 id="8-操作节点"><a href="#8-操作节点" class="headerlink" title="8.操作节点"></a>8.操作节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line"><span class="keyword">var</span> ele = $(<span class="string">'&lt;div&gt;&lt;/div&gt;'</span>);</div><div class="line">$(ele).remove();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="keyword">var</span> ele = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">parent.removeChild(ele);<span class="comment">//父节点开始删除</span></div></pre></td></tr></table></figure>
<h3 id="9-获取、设置、删除属性"><a href="#9-获取、设置、删除属性" class="headerlink" title="9.获取、设置、删除属性"></a>9.获取、设置、删除属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).attr(name,value) <span class="comment">//设置  </span></div><div class="line">$(ele).attr(name) <span class="comment">//获取  </span></div><div class="line">$(ele).removeAttr(name) <span class="comment">//删除</span></div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.setAttribute(name,value);<span class="comment">//设置  </span></div><div class="line">ele.getAttribute(name);<span class="comment">//获取  </span></div><div class="line">ele.removeAttribute(name);<span class="comment">//删除</span></div></pre></td></tr></table></figure>
<h3 id="10-Data属性"><a href="#10-Data属性" class="headerlink" title="10.Data属性"></a>10.Data属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="string">"body"</span>).data(<span class="string">"foo"</span>, <span class="number">52</span>);  <span class="comment">//设置  </span></div><div class="line">$(<span class="string">"body"</span>).data(<span class="string">"foo"</span>);  <span class="comment">//获取  </span></div><div class="line">$(<span class="string">"body"</span>).removeData(<span class="string">"foo"</span>);  <span class="comment">//删除 </span></div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.dataset.foo = <span class="number">52</span>  <span class="comment">//设置  </span></div><div class="line">ele.dataset.foo  <span class="comment">//获取  </span></div><div class="line">  </div><div class="line"><span class="comment">//也可通过attribute方法来设置获取和删除  </span></div><div class="line">ele.setAttribute(<span class="string">'data-foo'</span>, <span class="number">52</span>);<span class="comment">//设置  </span></div><div class="line">ele.getAttribute(<span class="string">'data-foo'</span>); <span class="comment">//获取  </span></div><div class="line">ele.removeAttribute(<span class="string">'data-foo'</span>);<span class="comment">//删除</span></div></pre></td></tr></table></figure>
<h3 id="11-操作内容"><a href="#11-操作内容" class="headerlink" title="11.操作内容"></a>11.操作内容</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line"><span class="keyword">var</span> html = $(ele).html();</div><div class="line">$(el).empty();</div><div class="line">$(ele).text();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="keyword">var</span> html = ele.innerHTML;</div><div class="line">el.innerHTML = <span class="string">''</span>;</div><div class="line"><span class="keyword">var</span> txt = ele.textContent || ele.innerText;</div></pre></td></tr></table></figure>
<h3 id="12-操作CSS"><a href="#12-操作CSS" class="headerlink" title="12.操作CSS"></a>12.操作CSS</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).css(<span class="string">'height'</span>,<span class="string">'300px'</span>);  </div><div class="line">$(ele).css(&#123;  </div><div class="line">    height:<span class="number">300</span>  </div><div class="line">&#125;);</div><div class="line">$(obj).css(<span class="string">'marginLeft'</span>);<span class="comment">//获取CSS</span></div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.style.height = <span class="string">'300px'</span>;  </div><div class="line">ele.style.cssText = <span class="string">'height:200px;color:red;left:100px;'</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getStyle</span>(<span class="params">obj,attr</span>)</span>&#123;  </div><div class="line">    <span class="keyword">if</span>(obj.currentStyle)&#123;  </div><div class="line">        <span class="keyword">return</span> obj.currentStyle[attr];  </div><div class="line">    &#125;<span class="keyword">else</span>&#123;  </div><div class="line">        <span class="keyword">return</span> getComputedStyle(obj,<span class="literal">null</span>)[attr];  </div><div class="line">    &#125;;  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="13-显示隐藏"><a href="#13-显示隐藏" class="headerlink" title="13.显示隐藏"></a>13.显示隐藏</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(el).show();  </div><div class="line">$(el).hide();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">el.style.display = <span class="string">''</span>;  </div><div class="line">el.style.display = <span class="string">'none'</span>;</div></pre></td></tr></table></figure>
<h3 id="14-元素的高度（宽度同理）-height"><a href="#14-元素的高度（宽度同理）-height" class="headerlink" title="14.元素的高度（宽度同理）[height]"></a>14.元素的高度（宽度同理）[height]</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).height();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">height</span>(<span class="params">el</span>)</span>&#123;      </div><div class="line">    <span class="keyword">var</span> _height = el.clientHeight;      </div><div class="line">    <span class="keyword">var</span> style = el.currentStyle || getComputedStyle(el);        </div><div class="line">    <span class="keyword">return</span> _height - (<span class="built_in">parseInt</span>(style.paddingTop) + <span class="built_in">parseInt</span>(style.paddingBottom));      </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>元素的内高度（宽度同理）[height + padding]<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).innerHeight(); </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.clientHeight;</div></pre></td></tr></table></figure></p>
<p>元素的外高度（宽度同理）[height + padding + border]<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).outerHeight();</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.offsetWidth;</div></pre></td></tr></table></figure></p>
<p>元素的外高度（宽度同理）[height + padding + border + margin]<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).outerHeight(<span class="literal">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">outerHeight</span>(<span class="params">el</span>)</span>&#123;    </div><div class="line">    <span class="keyword">var</span> style = el.currentStyle || getComputedStyle(el);    </div><div class="line">    <span class="keyword">var</span> height = el.offsetHeight + <span class="built_in">parseInt</span>(style.marginTop) + <span class="built_in">parseInt</span>(style.marginBottom);    </div><div class="line">    <span class="keyword">return</span> height;    </div><div class="line">&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="15-元素的位置"><a href="#15-元素的位置" class="headerlink" title="15.元素的位置"></a>15.元素的位置</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(ele).position().left;  </div><div class="line">$(ele).position().top;  </div><div class="line">  </div><div class="line">$(ele).offset().left;  </div><div class="line">$(ele).offset().top;  </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line">ele.offsetLeft;  </div><div class="line">ele.offsetTop;  </div><div class="line">  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getposi</span>(<span class="params">obj</span>)</span>&#123;    </div><div class="line">    <span class="keyword">var</span> t = <span class="number">0</span>,l = <span class="number">0</span>;    </div><div class="line">    <span class="keyword">while</span>(obj)&#123;    </div><div class="line">        t+=obj.offsetTop;    </div><div class="line">        l+=obj.offsetLeft;    </div><div class="line">        obj = obj.offsetParent;    </div><div class="line">    &#125;;    </div><div class="line">    <span class="keyword">return</span> &#123;<span class="attr">top</span>:t,<span class="attr">left</span>:l&#125;;    </div><div class="line">&#125;;  </div><div class="line"><span class="comment">//getposi(ele).left  </span></div><div class="line"><span class="comment">//getposi(ele).top  </span></div><div class="line">ele.getBoundingClientRect().top + <span class="built_in">window</span>.pageYOffset;  </div><div class="line">ele.getBoundingClientRect().bottom + <span class="built_in">window</span>.pageYOffset;  </div><div class="line">ele.getBoundingClientRect().left + <span class="built_in">window</span>.pageYOffset;  </div><div class="line">ele.getBoundingClientRect().right + <span class="built_in">window</span>.pageXOffset;</div></pre></td></tr></table></figure>
<h3 id="16-Document事件"><a href="#16-Document事件" class="headerlink" title="16.Document事件"></a>16.Document事件</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="comment">// ready </span></div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(<span class="built_in">window</span>).load(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="comment">// load  </span></div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(<span class="built_in">document</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">    <span class="comment">//添加事件  </span></div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(ele).on(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">    <span class="comment">//绑定事件  </span></div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="comment">//ready</span></div><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"DOMContentLoaded"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="comment">// Code  </span></div><div class="line">&#125;,<span class="literal">false</span>);</div><div class="line"><span class="comment">//load</span></div><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"load"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="comment">// Code  </span></div><div class="line">&#125;,<span class="literal">false</span>);</div><div class="line"><span class="comment">//添加事件</span></div><div class="line"><span class="built_in">document</span>.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">        <span class="comment">//XXX  </span></div><div class="line">&#125;;</div><div class="line"><span class="comment">//绑定事件</span></div><div class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    </div><div class="line">        <span class="comment">//xxx    </span></div><div class="line">&#125;,<span class="literal">false</span>);    </div><div class="line">  </div><div class="line">[].forEach.call(ele,<span class="function"><span class="keyword">function</span>(<span class="params">o</span>)</span>&#123;  </div><div class="line">    o.addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;    </div><div class="line">            <span class="comment">//xxx    </span></div><div class="line">    &#125;,<span class="literal">false</span>);    </div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="17-获取数据类型"><a href="#17-获取数据类型" class="headerlink" title="17.获取数据类型"></a>17.获取数据类型</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$.type(obj);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">type</span>(<span class="params">obj</span>)</span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj).replace(<span class="regexp">/^\[object (.+)\]$/</span>, <span class="string">"$1"</span>).toLowerCase();  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="18-判断是否为数组"><a href="#18-判断是否为数组" class="headerlink" title="18.判断是否为数组"></a>18.判断是否为数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$.isArray(arr);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span> (<span class="params">v</span>)</span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(v) === <span class="string">'[object Array]'</span>;     </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="19-去除字符串两端的空格"><a href="#19-去除字符串两端的空格" class="headerlink" title="19.去除字符串两端的空格"></a>19.去除字符串两端的空格</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$.trim(string);</div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="comment">//去除两端空格  </span></div><div class="line"><span class="built_in">String</span>.prototype.trim = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">var</span> reExtraSpace = <span class="regexp">/^\s*(.*?)\s+$/</span>;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(reExtraSpace, <span class="string">"$1"</span>)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">/***扩展一下***/</span>  </div><div class="line"><span class="comment">//去除左边空格  </span></div><div class="line"><span class="built_in">String</span>.prototype.ltrim = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace( <span class="regexp">/^(\s*|　*)/</span>, <span class="string">""</span>);  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//去除右边空格  </span></div><div class="line"><span class="built_in">String</span>.prototype.rtrim = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace( <span class="regexp">/(\s*|　*)$/</span>, <span class="string">""</span>);  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//替换全部  </span></div><div class="line"><span class="built_in">String</span>.prototype.replaceAll = <span class="function"><span class="keyword">function</span>(<span class="params">s1, s2</span>) </span>&#123;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="keyword">new</span> <span class="built_in">RegExp</span>(s1, <span class="string">"gm"</span>), s2)  </div><div class="line">&#125;  </div><div class="line"><span class="comment">//去除所有空格，需要配合上面的替换全部  </span></div><div class="line"><span class="built_in">String</span>.prototype.trimAll = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;  </div><div class="line">    <span class="keyword">var</span> reExtraSpace = <span class="regexp">/\s*(.*?)\s+/</span>;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.replaceAll(reExtraSpace, <span class="string">"$1"</span>)  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="20-Cookie"><a href="#20-Cookie" class="headerlink" title="20.Cookie"></a>20.Cookie</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$.cookie(<span class="string">'cookie'</span>); <span class="comment">// 读取 cookie  </span></div><div class="line">$.cookie(<span class="string">'cookie'</span>, <span class="string">'value'</span>); <span class="comment">// 存储 cookie  </span></div><div class="line">$.cookie(<span class="string">'cookie'</span>, <span class="string">'value'</span>, &#123; <span class="attr">expires</span>: <span class="number">7</span> &#125;); <span class="comment">// 存储一个带7天期限的 cookie  </span></div><div class="line">$.cookie(<span class="string">'cookie'</span>, <span class="string">''</span>, &#123; <span class="attr">expires</span>: <span class="number">-1</span> &#125;); <span class="comment">// 删除 cookie  </span></div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setCookie</span>(<span class="params"></span>)</span>&#123;  </div><div class="line">    <span class="keyword">var</span> json = &#123;&#125;,d;  </div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> <span class="built_in">arguments</span>[<span class="number">0</span>] ==’string’)&#123;  </div><div class="line">        json[<span class="built_in">arguments</span>[<span class="number">0</span>]] = <span class="built_in">arguments</span>[<span class="number">1</span>];  </div><div class="line">        d = <span class="built_in">arguments</span>[<span class="number">2</span>]  </div><div class="line">    &#125;<span class="keyword">else</span>&#123;  </div><div class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> <span class="built_in">arguments</span>[<span class="number">0</span>])&#123;  </div><div class="line">            json.i = <span class="built_in">arguments</span>[<span class="number">0</span>][i]  </div><div class="line">            d = <span class="built_in">arguments</span>[<span class="number">1</span>];  </div><div class="line">        &#125;;  </div><div class="line">    &#125;;        </div><div class="line">    <span class="keyword">var</span> t = <span class="keyword">new</span> <span class="built_in">Date</span>();  </div><div class="line">    t.setDate(t.getDate()+d);  </div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> j <span class="keyword">in</span> json)&#123;  </div><div class="line">        <span class="built_in">document</span>.cookie = j+’=’+json[j]+<span class="string">';expires=’+t;  </span></div><div class="line"><span class="string">    &#125;;  </span></div><div class="line"><span class="string">&#125;;</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">function getCookie(n)&#123;  </span></div><div class="line"><span class="string">    var a = document.cookie.split(‘; ‘);  </span></div><div class="line"><span class="string">    for(var i=0;i&lt;a.length;i++)&#123;  </span></div><div class="line"><span class="string">        var a2 = a[i].split(‘=’);  </span></div><div class="line"><span class="string">        if(a2[0]==n)&#123;  </span></div><div class="line"><span class="string">            return a2[1];  </span></div><div class="line"><span class="string">        &#125;;  </span></div><div class="line"><span class="string">    &#125;;  </span></div><div class="line"><span class="string">&#125;;</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">function removeCookie(n)&#123;  </span></div><div class="line"><span class="string">    setCookie(n,null,-1);  </span></div><div class="line"><span class="string">&#125;</span></div></pre></td></tr></table></figure>
<h3 id="21-Ajax"><a href="#21-Ajax" class="headerlink" title="21.Ajax"></a>21.Ajax</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// jquery</span></div><div class="line">$.ajax(&#123;  </div><div class="line">    type: <span class="string">'POST'</span>,  </div><div class="line">    url: <span class="string">'/my/url'</span>,  </div><div class="line">    data: data  </div><div class="line">&#125;);  </div><div class="line"></div><div class="line"><span class="comment">// javascript</span></div><div class="line"><span class="keyword">var</span> request = <span class="keyword">new</span> XMLHttpRequest();  </div><div class="line">request.open(<span class="string">'POST'</span>, <span class="string">'/my/url'</span>, <span class="literal">true</span>);  </div><div class="line">request.send(data);</div></pre></td></tr></table></figure>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/javascript/">javascript</a></li><li class="post__tag__item"><a class="post__tag__link" href="/tags/jQuery/">jQuery</a></li></ul></footer></article><link rel="stylesheet" href="/css/menu.css"><script src="/js/jquery.autoMenu.js"></script><div class="autoMenu" id="autoMenu" data-autoMenu></div><section class="reward"> <a class="btn-reward" href="#">打赏</a><div class="reward-wrapper clearfix"><img src="/img/wechatImage.jpg" title="微信"><img src="/img/alipayImage.jpg" title="支付宝"></div></section></main><footer class="foot"><div class="foot-copy">&copy; 2016-2017 Cary</div></footer><!--include ../plugins/google.pug--><script src="/js/particles.min.js"></script><script src="/js/particles.other.js"></script><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>